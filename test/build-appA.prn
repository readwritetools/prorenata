!blue 2.0

template {
	bifurcate 	 bifurcate <source> <dest> --define=RWDOC
	//blue 		 blue compile <source> <dest> --progress
	blue 		 node /musings/lib/bluephrase/dist/main.js compile <source> <dest> --progress
	// uglify       node C:/Users/Propellerhead/AppData/Roaming/npm/node_modules/uglify-es/bin/uglifyjs <source> --output <dest> --ecma 8 --compress		/* npm install uglify-es -g */
}

/*
TODO list all files in <dest> that are not in <source>
compare {
	source 
	dest
}
*/
// ---------- merge appA proto --> appA fused ---------- 
copy {
	source    '../test/appA/proto'
	dest      '../test/appA/fused'
	overwrite older				// older | always | never†
	mkdir true					// true† | false
	progress regular			// none | regular† | verbose
	// onfailure halt			// halt | continue†
}
//
//  ---------- merge appSuite proto --> appA fused ---------- 
copy {
	source    '../test/appSuite/proto'
	dest      '../test/appA/fused'
	include   '*.blue'
	include   '*.html'
	include   '*.png'
	exclude   appSuite/proto/js		// copy this directory using bifucate
	overwrite older
}
//
//  ---------- process blue-phrase --> html ---------- 
recurse {
	source     /musings/lib/prorenata/test/appA/fused/blue
	dest       /musings/lib/prorenata/test/appA/fused/html
	extension  html
	exec       blue
	overwrite  older
}

